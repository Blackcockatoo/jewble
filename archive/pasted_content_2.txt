<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MetaPet Background Environment Playground</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      color-scheme: dark;
      --bg: #020617;
      --text: #e5e7eb;
      --panel: #0b1120;
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, sans-serif;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      display: flex;
      justify-content: center;
      padding: 2rem;
    }

    .container {
      width: 100%;
      max-width: 1100px;
      display: grid;
      grid-template-columns: 1fr 0.8fr;
      gap: 1.5rem;
    }

    .panel {
      background: var(--panel);
      border-radius: 1rem;
      padding: 1.25rem;
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 0 25px rgba(0,0,0,0.45);
    }

    .title {
      text-transform: uppercase;
      font-size: 0.9rem;
      opacity: 0.55;
      margin-bottom: 1rem;
      letter-spacing: 0.1em;
    }

    #svgWrapper {
      width: 100%;
      aspect-ratio: 1 / 1;
      border-radius: 1rem;
      background: #000;
      border: 1px solid rgba(255,255,255,0.05);
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    svg {
      width: 100%;
      height: 100%;
    }

    .control-section {
      margin-bottom: 1.25rem;
    }

    .control-label {
      font-size: 0.75rem;
      opacity: 0.65;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    select, input[type="range"] {
      width: 100%;
      padding: 0.4rem;
      background: #0f172a;
      border: 1px solid rgba(255,255,255,0.1);
      color: var(--text);
      border-radius: 0.5rem;
    }

  </style>
</head>
<body>

  <div class="container">

    <!-- SVG Preview -->
    <div class="panel">
      <div class="title">Environment Preview</div>
      <div id="svgWrapper">
        <svg id="envSvg" viewBox="0 0 300 300"></svg>
      </div>
    </div>

    <!-- Controls -->
    <div class="panel">
      <div class="title">Environment Controls</div>

      <div class="control-section">
        <div class="control-label">Environment Type</div>
        <select id="envType">
          <option value="explorer">Explorer Aura</option>
          <option value="sleep">Sleep Chamber</option>
          <option value="study">Study Grid</option>
          <option value="battle">Battle Forge</option>
        </select>
      </div>

      <div class="control-section">
        <div class="control-label">Intensity</div>
        <input id="intensity" type="range" min="0" max="100" value="60" />
      </div>

      <div class="control-section">
        <div class="control-label">Palette</div>
        <select id="palette">
          <option value="iris">Iris</option>
          <option value="ember">Ember</option>
          <option value="tide">Tide</option>
        </select>
      </div>
    </div>

  </div>

  <script>
    const palettes = {
      iris: {
        base: '#1d2345',
        glow: '#6366f1',
        accent: '#22c1c3'
      },
      ember: {
        base: '#331515',
        glow: '#f97316',
        accent: '#fcd34d'
      },
      tide: {
        base: '#022c3a',
        glow: '#22d3ee',
        accent: '#4ade80'
      }
    };

    function renderEnvironment() {
      const type = document.getElementById('envType').value;
      const intensity = Number(document.getElementById('intensity').value) / 100;
      const palette = palettes[document.getElementById('palette').value];

      const svg = document.getElementById('envSvg');

      const glowO = 0.2 + intensity * 0.8;
      const spread = 50 + intensity * 80;
      const soft = palette.glow;

      let shapes = '';

      if (type === 'explorer') {
        shapes = `
          <circle cx="80" cy="80" r="${spread}" fill="${soft}" opacity="0.4" />
          <circle cx="220" cy="200" r="${spread * 1.2}" fill="${palette.accent}" opacity="0.25" />
        `;
      }

      if (type === 'sleep') {
        shapes = `
          <rect x="${60 - intensity * 20}" y="${80 - intensity * 10}" width="${200 + intensity * 40}" height="${120 + intensity * 20}" rx="40" fill="${palette.base}" opacity="0.85" />
          <circle cx="90" cy="85" r="${30 + intensity * 10}" fill="${soft}" opacity="0.28" />
        `;
      }

      if (type === 'study') {
        const lines = [80, 110, 140]
          .map(y => `<path d="M50 ${y} H250" stroke="${palette.accent}" stroke-width="1" stroke-opacity="${0.2 + intensity * 0.4}" />`).join('');
        shapes = `
          <rect x="40" y="60" width="220" height="160" rx="20" fill="${palette.base}" opacity="0.9" />
          ${lines}
        `;
      }

      if (type === 'battle') {
        shapes = `
          <circle cx="70" cy="90" r="${55 + intensity * 25}" fill="${palette.base}" opacity="0.9" />
          <circle cx="240" cy="200" r="${75 + intensity * 30}" fill="${soft}" opacity="0.28" />
          <path d="M30 250 Q150 ${210 - intensity * 20} 270 250" stroke="${palette.accent}" stroke-width="${2 + intensity * 1}" stroke-linecap="round" fill="none" />
        `;
      }

      svg.innerHTML = `
        <defs>
          <radialGradient id="bg">
            <stop offset="0%" stop-color="${palette.glow}" stop-opacity="${0.3 + intensity * 0.5}" />
            <stop offset="70%" stop-color="${palette.base}" stop-opacity="0.25" />
            <stop offset="100%" stop-color="#000" />
          </radialGradient>
        </defs>
        <rect x="0" y="0" width="300" height="300" fill="url(#bg)" />
        ${shapes}
      `;
    }

    document.getElementById('envType').onchange = renderEnvironment;
    document.getElementById('intensity').oninput = renderEnvironment;
    document.getElementById('palette').onchange = renderEnvironment;

    renderEnvironment();
  </script>
</body>
</html>
